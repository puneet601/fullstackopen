{"version":3,"sources":["components/Toggleable.js","services/blogs.js","components/Blog.js","services/login.js","components/LoginForm.js","components/NewBlog.js","services/users.js","components/SignUp.js","components/Profile.js","components/Notification.js","App.js","index.js"],"names":["Togglable","props","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","style","onClick","buttonLabel","children","token","setToken","newToken","getAll","axios","get","then","response","data","create","newObject","auth","a","config","headers","Authorization","post","update","id","put","remove","delete","Blog","blog","setUpdate","blogs","setBlogs","setShowUserProfile","like","event","preventDefault","likes","newBlog","blogService","map","b","Math","floor","random","window","confirm","title","filter","blogUser","user","paddingTop","paddingLeft","borderWidth","marginBottom","className","author","url","type","login","credentials","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","BlogForm","setNewBlogVisible","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","addBlog","target","rows","cols","signin","getBlogs","Signup","setStatus","setErrorMessage","email","setEmail","setUsername","setPassword","addUser","userService","console","log","Profile","showUserProfile","getUsersBlogs","Notification","message","status","App","loginVisible","setLoginVisible","signinVisible","setSigninVisible","newBlogVisible","errorMessage","setUser","useEffect","loggedUserJSON","localStorage","getItem","JSON","parse","userData","handleLogin","loginService","setItem","stringify","setTimeout","savedBlog","concat","handleLogOut","removeItem","clear","exception","class","getUserBlogs","hideSignIn","showSignIn","loginForm","NewBlog","key","blogForm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2069c20.chunk.js","sourcesContent":["import React, { useState }  from 'react'\r\n\r\nconst Togglable = (props) => {\r\n    const [visible, setVisible] = useState(false)\r\n  \r\n    const hideWhenVisible = { display: visible ? 'none' : '' }\r\n    const showWhenVisible = { display: visible ? '' : 'none' }\r\n  \r\n    const toggleVisibility = () => {\r\n      setVisible(!visible)\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <div style={hideWhenVisible}>\r\n          <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          {props.children}\r\n          <button onClick={toggleVisibility}>cancel</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default Togglable","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async (newObject, auth) => {\n  setToken(auth)\n  const config = { headers: { Authorization: token } }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\nconst update = async (id, newObject) => {\n const response = await axios.put(`${baseUrl}/${id}`, newObject)\n  return  response.data\n}\nconst remove = async (id) => {\n    const config = { headers: { Authorization: token } }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\nexport default {\n  getAll, create, setToken,update,remove}","import React,{useState} from 'react'\r\nimport Togglable from './Toggleable'\r\nimport blogService from '../services/blogs'\r\nimport '../App.css'\r\nconst Blog = ({ blog, setUpdate, blogs, setBlogs,setShowUserProfile }) => {\r\n   const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    //  border: 'solid 1px black',\r\n    borderWidth: 1,\r\n     marginBottom: 5\r\n  }\r\n  const like = async (event) => {\r\n    let id=blog.id\r\n    event.preventDefault()\r\n    const likes = blog.likes + 1\r\n    const newBlog = { ...blog, likes }\r\n    await blogService.update(blog.id, newBlog)\r\n    setBlogs(blogs.map(b => b.id !== id ? b : newBlog ))\r\n    setUpdate(Math.floor(Math.random() * 100))\r\n  }\r\n  const remove = async (event) => {\r\n    event.preventDefault()\r\n    if (window.confirm(`Do you wante to Delete ${blog.title} ?`)) \r\n      {await blogService.remove(blog.id)\r\n      setBlogs(blogs.filter(b => b.id !==blog.id))}\r\n  }\r\n \r\n  let blogUser=blog.user\r\n   return( \r\n      <div style={blogStyle} className=\"blog\" > \r\n       <h2>{blog.title}</h2>\r\n       <span onClick={() => setShowUserProfile(blogUser)}>{blog.author}</span>\r\n        <Togglable buttonLabel='view'>\r\n         <div>\r\n            {blog.title} <br /> {blog.url} <br /> {blog.author} <br /> likes: {blog.likes} <br /> \r\n           \r\n            <button type=\"submit\" onClick={like}>Like</button>\r\n            <button type=\"submit\" onClick={remove} >Remove</button>\r\n        </div>\r\n</Togglable>\r\n   \r\n  </div>\r\n    )\r\n  \r\n}\r\n\r\nexport default Blog\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst LoginForm = ({\r\n   handleSubmit,\r\n   handleUsernameChange,\r\n   handlePasswordChange,\r\n   username,\r\n   password\r\n  }) => {\r\n    LoginForm.propTypes={\r\nhandleSubmit: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n    }\r\n  return (\r\n      <div>\r\n      <h2>Login</h2>\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          username\r\n          <input\r\n            value={username}\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n      </div>\r\n        <button type=\"submit\">login</button>\r\n      </form>\r\n     \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst BlogForm = ({\r\n    showWhenVisible, setNewBlogVisible,\r\n    newTitle, setNewTitle,\r\n    newAuthor, setNewAuthor,\r\n    newUrl, setNewUrl, addBlog\r\n}) => {\r\n   BlogForm.propTypes = {\r\n     newTitle:PropTypes.string.isRequired\r\n   }\r\n    return (\r\n      <div>\r\n        <div style={showWhenVisible}> <h1>Create new Blog</h1>\r\n     <form>\r\n       title:<input type=\"text\" value={newTitle} onChange={({ target }) => setNewTitle(target.value)} /><br />\r\n       author:<input type=\"text\" value={newAuthor} onChange={({ target }) => setNewAuthor(target.value)} /><br />\r\n       Blog :<br />\r\n       <textarea value={newUrl} onChange={({ target }) => setNewUrl(target.value)} rows=\"5\" cols=\"30\"></textarea>\r\n       <br />\r\n            <button type=\"submit\" onClick={addBlog}>Add</button><br />\r\n            <button type=\"submit\" onClick={() => setNewBlogVisible(false)}>Cancel</button>\r\n     </form></div> </div>\r\n      \r\n       \r\n    )\r\n}\r\nexport default  BlogForm;","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\nconst signin = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n  }\r\nconst getBlogs = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  // console.log(response.data)\r\n  return response.data\r\n}\r\nexport default { signin,getBlogs }","import React, { useState } from \"react\"\r\nimport userService from '../services/users'\r\nconst Signup = (setStatus, setErrorMessage) => {\r\n    const [email, setEmail] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const addUser = async (event) => {\r\n        event.preventDefault()\r\n        try {\r\n            await userService.signin({\r\n                username, password, email\r\n            })\r\n            setEmail('')\r\n            setUsername('')\r\n            setPassword('')\r\n           \r\n        } catch (exception) {\r\n            console.log(exception)\r\n        }\r\n    }\r\n        return (\r\n            <div>\r\n                <h1>Sign UP</h1>\r\n             email:\r\n                <input type=\"text\" value={email} onChange={({ target }) => setEmail(target.value)} /><br />\r\n            username:\r\n                <input type=\"text\" value={username} onChange={({ target }) => setUsername(target.value)} /><br />\r\n            password:\r\n                <input type=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} /><br />\r\n                <button type=\"submit\" onClick={addUser}>Sign Up</button>\r\n            </div>\r\n        );\r\n    \r\n}\r\nexport default Signup\r\n","import React from 'react'\r\nconst Profile = ({ showUserProfile, getUsersBlogs ,setShowUserProfile }) => {\r\n  return (\r\n    <div className=\"container\">\r\n        <h1>{showUserProfile.username}</h1><br />\r\n        {console.log(getUsersBlogs)}\r\n      <button onClick={() => setShowUserProfile('')}>Back</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nconst Notification = ({ message , status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    if(status === false)\r\n     {return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )}\r\n    return (\r\n        <div className=\"success\">\r\n          {message}\r\n        </div>\r\n      )\r\n  }\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport loginService from './services/login' \nimport LoginForm from './components/LoginForm'\nimport NewBlogForm from './components/NewBlog'\nimport SigninForm from './components/SignUp'\nimport Profile from './components/Profile'\nimport userService from './services/users'\nimport './App.css'\nimport Notification from './components/Notification'\nconst App = () => {\n\n  const padding = {\n    padding: 5\n  }\n  const [loginVisible, setLoginVisible] = useState(false)\n  const [signinVisible,setSigninVisible]=useState(false)\n   const [newBlogVisible, setNewBlogVisible] = useState(false)\n  const [blogs, setBlogs] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [newTitle, setNewTitle] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [status, setStatus] = useState(true)\n  const [update,setUpdate]=useState(null)\n  const [showUserProfile, setShowUserProfile] = useState('')\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n     setBlogs(blogs)\n    )\n  }, [])\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [update])\n  \n  const loginForm = () => {\n    const hideWhenVisible = { display: loginVisible ? 'none' : '' }\n    const showWhenVisible = { display: loginVisible ? '' : 'none' }\n    const hideSignIn = { display: signinVisible ? 'none' : '' }\n    const showSignIn = { display: signinVisible ? '' : 'none' }\n    return (\n      <div className=\"container\">    \n                 <div style={hideWhenVisible}>\n          <button onClick={() => {\n            setLoginVisible(true)\n          setSigninVisible(false)}}>log in</button></div><div style={hideSignIn}>\n          <button onClick={() => {\n            setSigninVisible(true)\n          setLoginVisible(false)}}>Sign in</button>\n        </div>\n        <div style={showSignIn}>\n          <SigninForm\n            setStatus={setStatus}\n            setErrorMessage={setErrorMessage}\n           /></div>\n        <div style={showWhenVisible}>\n          <LoginForm\n            username={username}\n            password={password}\n            handleUsernameChange={({ target }) => setUsername(target.value)}\n            handlePasswordChange={({ target }) => setPassword(target.value)}\n            handleSubmit={handleLogin}\n          />\n          <button onClick={() => setLoginVisible(false)}>cancel</button>\n          <Notification status={status} message={errorMessage} />\n        </div>\n      </div>\n    )\n  }\n  const showProfile = () => {   \n    return (<div class=\"container\">\n      <Profile showUserProfile={showUserProfile} getUserBlogs={getUsersBlogs} setShowUserProfile={setShowUserProfile} />\n    </div>)\n  }\n  const blogForm = () => {\n    const hideWhenVisible = { display: newBlogVisible ? 'none' : '' }\n    const showWhenVisible = { display: newBlogVisible ? '' : 'none' }\n\n    return (\n      <div className=\"container\">\n      \n        <Notification status={status} message={errorMessage} />\n        \n        <h1>Blogs</h1>\n        <p>{user.username} logged in</p>\n        <div style={hideWhenVisible}>\n          <button onClick={() => setNewBlogVisible(true)}>New Blog</button>\n        </div>\n        <div style={showWhenVisible}>\n          <NewBlogForm showWhenVisible={showWhenVisible} setNewBlogVisible={setNewBlogVisible}\n            newTitle={newTitle} setNewTitle={setNewTitle}\n            newAuthor={newAuthor} setNewAuthor={setNewAuthor}\n            newUrl={newUrl} setNewUrl={setNewUrl} addBlog={addBlog} />\n        </div>\n        <button type=\"button\" onClick={handleLogOut}>Logout</button>\n        {blogs.map(blog =>\n          <Blog key={blog.id} blog={blog} user={user} setShowUserProfile={setShowUserProfile} setUpdate={setUpdate} blogs={blogs} setBlogs={setBlogs} setStatus={setStatus} setErrorMessage={setErrorMessage} />\n        )}\n      </div>\n       \n    )\n  }\n  const getUsersBlogs = async (showUserProfile) => {\n    // event.preventDefault()\n    const userData = await userService.getBlogs(showUserProfile.id)\n    console.log(userData)\n    return userData\n  }\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setStatus(false)\n      setErrorMessage('Wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n  const addBlog = async (event) => {\n    event.preventDefault();\n    try {\n      const newBlog = {\n        user: user,\n        title: newTitle,\n        author: newAuthor,\n        url: newUrl,\n        likes: 0,\n        id: Math.floor(Math.random() * 101)\n      }\n      const auth = user.token\n      const savedBlog = await blogService.create(newBlog,auth)\n      setBlogs(blogs.concat(savedBlog))\n      setStatus(true)\n      setErrorMessage(`A new Blog ${newTitle} by ${newAuthor} was added.`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n\n    }\n    catch (exception) {\n      setErrorMessage(`${exception}`);\n      console.log(exception);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000);\n    }\n    setNewAuthor('')\n    setNewTitle('')\n    setNewUrl('')\n    setNewBlogVisible(false)\n  }\n \n  const handleLogOut = async (event) => {\n    event.preventDefault()\n    try { \n      window.localStorage.removeItem(user)\n      setUser(null)\n      \n      window.localStorage.clear()\n\n    }\n    catch (exception) {\n      setStatus(false)\n      setErrorMessage(\"User doesn't exist or has already logged out\")\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  } \n  if (showUserProfile !== '') {\n    return (<div>\n     <div>{showProfile()}</div>\n   </div>)   \n}\n      else\n    return (\n      <div>\n        {user === null ? loginForm() : blogForm() }\n        </div>\n)\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}