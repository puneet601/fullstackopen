{"version":3,"sources":["components/AddPerson.js","components/FilterPerson.js","components/Person.js","components/Persons.js","services/personDB.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","props","onSubmit","addPerson","value","newName","onChange","setName","required","newNumber","type","setNumber","onClick","addName","FilterPerson","newSearch","handleSearchChange","Person","deletePerson","name","number","Persons","persons","filter","person","toUpperCase","includes","map","handleDeletePerson","id","baseURL","axios","get","then","response","data","newObject","post","delete","put","Notification","message","status","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","errorMessage","setErrorMessage","setStatus","checkNames","checkNumbers","useEffect","console","log","personDB","initialPersons","window","confirm","n","setTimeout","catch","error","event","target","preventDefault","findIndex","x","find","changednumId","q","changedNumber","personObject","Math","floor","random","ReactDOM","render","document","getElementById"],"mappings":"4LAaeA,EAZG,SAACC,GACnB,OAAO,uBAAMC,SAAUD,EAAME,UAAtB,UACP,yCACgB,uBAAOC,MAAOH,EAAMI,QAASC,SAAUL,EAAMM,QAASC,UAAQ,OAEtE,2CAAa,uBAAOJ,MAAOH,EAAMQ,UAAWC,KAAK,SAAUJ,SAAUL,EAAMU,UAAWH,UAAQ,OAE9F,wBAAQE,KAAK,SAASE,QAASX,EAAMY,QAArC,qBCMOC,EAbM,SAACb,GAElB,OACI,6CAEA,uBACIG,MAAOH,EAAMc,UACbT,SAAUL,EAAMe,qBAChB,2BCHKC,G,MALF,SAAChB,EAAOiB,GACrB,OACE,+BAAKjB,EAAMkB,KAAX,KAAmBlB,EAAMmB,OAAzB,IAAiC,wBAAQR,QAASX,EAAMiB,aAAvB,yBCOtBG,EARC,SAACpB,GACf,OACI,6BACKA,EAAMqB,QAAQC,QAAO,SAAAC,GAAM,OAAIA,EAAOL,KAAKM,cAAcC,SAASzB,EAAMc,UAAUU,kBAAgBE,KAAI,SAAAH,GAAM,OAC7G,cAAC,EAAD,CAAwBL,KAAMK,EAAOL,KAAMC,OAAQI,EAAOJ,OAAQF,aAAcjB,EAAM2B,mBAAmBJ,EAAOL,KAAMK,EAAOK,KAAhHL,EAAOK,U,gBCLxBC,EAAU,eAoBD,EAlBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgB5B,EAdA,SAAAC,GAIX,OAHUL,IACTM,KAAKP,EAAQM,GACbH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAChBF,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAU1B,EALM,SAAAN,GAEjB,OADgBE,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BD,IAC5BI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG9B,EARA,SAACN,EAAIO,GAClB,OAAOL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBD,GAAMO,ICGtBI,EAhBI,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAAUC,EAAa,EAAbA,OAC9B,OAAgB,OAAZD,EACK,MAEK,IAAXC,EAED,qBAAKC,UAAU,QAAf,SACGF,IAID,qBAAKE,UAAU,SAAf,SACGF,KCuHIG,EA5HH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRvB,EADQ,KACCwB,EADD,OAEcD,mBAAS,IAFvB,mBAETxC,EAFS,KAEA0C,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTpC,EAHS,KAGEuC,EAHF,OAIkBH,mBAAS,IAJ3B,mBAIT9B,EAJS,KAIEkC,EAJF,OAKwBJ,mBAAS,MALjC,mBAKTK,EALS,KAKKC,EALL,OAMSN,oBAAS,GANlB,mBAMTH,EANS,KAMFU,EANE,KASVC,EAAa,SAAC7B,GAAD,OAAaA,EAAOL,OAASd,GAC1CiD,EAAe,SAAC9B,GAAD,OAAaA,EAAOJ,SAAWX,GACpD8C,qBAAU,WACRC,QAAQC,IAAI,UACZC,IACCzB,MAAK,SAAA0B,GACJb,EAAWa,QAEd,IACF,IAAM/B,EAAqB,SAACT,EAAMU,GAC/B,OAAO,WACD+B,OAAOC,QAAP,iCAAyC1C,EAAzC,QACFuC,EACgB7B,GACbI,MAAK,WACJa,EAAWxB,EAAQC,QAAO,SAAAuC,GAAC,OAAIA,EAAEjC,KAAOA,MACxCuB,GAAU,GACVD,EAAgB,WAAD,OAAYhC,IAC3B4C,YAAW,WACTZ,EAAgB,QACf,KACHJ,EAAW,IACXC,EAAa,OACZgB,OAAM,SAAAC,GACPb,GAAU,GACVD,EAAgB,IAAD,OAEThC,EAFS,yBAIf4C,YAAW,WACTZ,EAAgB,QACf,UAmEb,OACE,gCACE,cAAC,EAAD,CAAcV,QAASS,EAAcR,OAAQA,IAC7C,2CACD,cAAC,EAAD,CAAc3B,UAAWA,EAAWC,mBAVb,SAACkD,GAC1BjB,EAAaiB,EAAMC,OAAO/D,UAUrB,cAAC,EAAD,CAAWC,QAASA,EAASE,QAzGnB,SAAC2D,GAAD,OAAUnB,EAAWmB,EAAMC,OAAO/D,QAyGGgB,OAAQX,EAAWE,UAxGtD,SAACuD,GAAD,OAAWlB,EAAakB,EAAMC,OAAO/D,QAwGuCS,QArE9E,SAACqD,GAEf,GADAA,EAAME,kBAC8B,IAAjC9C,EAAQ+C,UAAUhB,IACpB,GAAG/B,EAAQ+C,UAAUf,KAAkBhC,EAAQ+C,UAAUhB,GACtDD,GAAU,GACVD,EAAgB,GAAD,OAAI9C,EAAJ,oCAChB0D,YAAW,WACTZ,EAAgB,QACf,UACE,GAAG7B,EAAQ+C,UAAUf,KAAkBhC,EAAQ+C,UAAUhB,GAChE,CAAE,IAAMiB,EAAEhD,EAAQiD,KAAKlB,GAChBmB,EAAalD,EAAQiD,MAAK,SAAAE,GAAC,OAAIA,EAAE5C,KAAOyC,EAAEzC,MAC3CA,EAAG2C,EAAa3C,GACX6C,EAAc,2BAAIF,GAAL,IAAkBpD,OAAOX,IAC9CiD,EACQ7B,EAAI6C,GACXzC,MAAK,SAAAC,GACJY,EAAWxB,EAAQK,KAAI,SAAAH,GAAM,OAAIA,EAAOK,KAAOA,EAAKL,EAASU,EAASC,YACrE6B,OAAM,SAAAC,GACPb,GAAU,GACVD,EAAgB,GAAD,OACVmB,EAAEnD,KADQ,wCAGf4C,YAAW,WACTZ,EAAgB,QACf,aAIL,CAEF,IAAMwB,EAAc,CAClBxD,KAAKd,EACLe,OAAOX,EACToB,GAAI+C,KAAKC,MAAsB,IAAhBD,KAAKE,WAGpBpB,EACQiB,GACP1C,MAAK,SAAAC,GACJkB,GAAU,GACVD,EAAgB,SAAD,OAAUwB,EAAaxD,OACtC2B,EAAW,GAAD,mBAAKxB,GAAL,CAAcqD,QACvBX,OAAM,SAAAC,GACPb,GAAU,GACVD,EACCc,GAEDF,YAAW,WACTZ,EAAgB,QACf,QAELJ,EAAW,IACXC,EAAa,MAgBgGpB,mBAAoBA,IAC/H,yCAEM,cAAC,EAAD,CACNN,QAASA,EACTP,UAAWA,EACXa,mBAAoBA,QCzH5BmD,IAASC,OAEL,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.15dd9d54.chunk.js","sourcesContent":["import React from 'react'\r\nconst AddPerson = (props) => {\r\nreturn(<form onSubmit={props.addPerson}>\r\n<div>\r\n          Name: <input value={props.newName} onChange={props.setName} required />\r\n        </div>\r\n        <div>Number: <input value={props.newNumber} type=\"number\"  onChange={props.setNumber} required /></div>\r\n       \r\n        <button type=\"submit\" onClick={props.addName}>Add</button>\r\n       \r\n      </form>);\r\n      }\r\n      \r\nexport default AddPerson","import React from 'react'\r\nconst FilterPerson = (props) => {\r\n    \r\n    return (\r\n        <form>\r\n       show with\r\n        <input\r\n            value={props.newSearch}\r\n            onChange={props.handleSearchChange} />\r\n            <br />\r\n        </form> \r\n    ); \r\n}\r\n\r\nexport default FilterPerson","import React from 'react'\r\nconst Person = (props, deletePerson) => {\r\n  return (\r\n    <li>{props.name}  {props.number} <button onClick={props.deletePerson}>Delete</button></li>\r\n  )\r\n}\r\n  export default Person","import React from 'react'\r\nimport Person from './Person'\r\nconst Persons = (props) => {\r\n  return (\r\n      <ul>\r\n          {props.persons.filter(person => person.name.toUpperCase().includes(props.newSearch.toUpperCase())).map(person => (\r\n          <Person key={person.id} name={person.name} number={person.number} deletePerson={props.handleDeletePerson(person.name, person.id)} /> ))}\r\n      </ul> \r\n  ) \r\n}\r\nexport default Persons","import axios from \"axios\";\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseURL);\r\n  return request.then(response => response.data);\r\n};\r\nconst create = newObject =>{\r\n    const req=axios\r\n    .post(baseURL,newObject)\r\n    .then(response => response.data)\r\n    return req.then(response => response.data)\r\n}\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseURL}/${id}`, newObject)\r\n}\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`);\r\n    return request.then(response => response.data);\r\n  };\r\n  \r\nexport default {\r\n    getAll:getAll,\r\n    create:create,\r\n    deletePerson:deletePerson,\r\n    update:update\r\n};","import React from 'react'\r\nconst Notification = ({ message , status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    if(status === false)\r\n     {return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )}\r\n    return (\r\n        <div className=\"sucess\">\r\n          {message}\r\n        </div>\r\n      )\r\n  }\r\n  export default Notification","import React, { useEffect, useState} from \"react\";\nimport NewPerson from \"./components/AddPerson\";\nimport FilterPerson from \"./components/FilterPerson\";\nimport './index.css';\nimport Persons from \"./components/Persons\";\nimport personDB from \"./services/personDB\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [status,setStatus]=useState(false);\n  const setName = (event) =>setNewName(event.target.value);\n  const setNumber = (event) => setNewNumber(event.target.value);\n  const checkNames = (person) => (person.name === newName);\n  const checkNumbers = (person) => (person.number === newNumber);\n  useEffect(() => {\n    console.log('effect')\n    personDB.getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n}, [])\n const handleDeletePerson = (name, id) => {\n    return () => {\n      if (window.confirm(`Do you wante to Delete ${name} ?`)) {\n        personDB\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(n => n.id !== id));\n            setStatus(true)\n            setErrorMessage(`Deleted ${name}`)             \n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          }).catch(error => {\n            setStatus(false)\n            setErrorMessage(\n         \n              `'${name}' cannot be Deleted.`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n          }}}\n  const addName = (event) => {\n    event.preventDefault();\n    if(persons.findIndex(checkNames)!==-1) \n    {if(persons.findIndex(checkNumbers) === persons.findIndex(checkNames))\n      { setStatus(true)\n        setErrorMessage(`${newName}  is already added to phonebook`);\n       setTimeout(() => {\n         setErrorMessage(null);\n       }, 5000);}\n       else if(persons.findIndex(checkNumbers) !== persons.findIndex(checkNames))\n     { const x=persons.find(checkNames)\n      const changednumId=persons.find(q => q.id === x.id) \n     const id=changednumId.id\n          const changedNumber={...changednumId,number:newNumber}\n        personDB\n        .update(id, changedNumber)\n        .then(response => {\n          setPersons(persons.map(person => person.id !== id ? person : response.data))\n        }).catch(error => {\n          setStatus(false)\n          setErrorMessage(         \n            `${x.name}  is already deleted from phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n      }\n      }\n    else{\n      \n      const personObject ={\n        name:newName,\n        number:newNumber,\n      id: Math.floor(Math.random() * 101)\n      }\n      \n      personDB\n      .create(personObject)\n      .then(response => {\n        setStatus(true)\n        setErrorMessage(`Added ${personObject.name}`)\n        setPersons([...persons, personObject])\n      }).catch(error => {\n        setStatus(false)\n        setErrorMessage(         \n         error\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n      setNewName('');\n      setNewNumber('');}\n        \n  \n  }\n\n const handleSearchChange = (event)  =>{\n   setNewSearch(event.target.value);\n  }\n  \n  \n\n  return (\n    <div>\n      <Notification message={errorMessage} status={status} />\n      <h2>Phonebook</h2>   \n     <FilterPerson newSearch={newSearch} handleSearchChange={handleSearchChange} />\n        <NewPerson newName={newName} setName={setName} number={newNumber} setNumber={setNumber} addName={addName}  handleDeletePerson={handleDeletePerson} />\n        <h2>Numbers</h2>\n\n              <Persons\n        persons={persons}\n        newSearch={newSearch}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />, document.getElementById('root')\n);\n\n"],"sourceRoot":""}